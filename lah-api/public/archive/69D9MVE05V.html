<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<meta charset="utf-8" />
<!--
&lt;meta property="fb:page_id" content="6427302910"  /&gt;
-->
<meta name="google-site-verification" content="7VWES_-rcHBcmaQis9mSYamPfNwE03f4vyTj4pfuAw0" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="generator" content="MediaWiki 1.23.11" />
<link rel="shortcut icon" href="https://codex.wordpress.org/Function_Reference/esc_url/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="https://codex.wordpress.org/Function_Reference/esc_url/opensearch_desc.php" title="Codex (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://codex.wordpress.org/api.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Codex Atom feed" href="https://codex.wordpress.org/Function_Reference/esc_url/index.php?title=Special:RecentChanges&amp;feed=atom" /><title>Function Reference/esc url &laquo; WordPress Codex</title>
<link rel="stylesheet" href="https://codex.wordpress.org/Function_Reference/esc_url//s.w.org/style/codex-wp4.css?2" />
<meta name="referrer" content="always" />
<link href="https://codex.wordpress.org/Function_Reference/esc_url//s.w.org/wp-includes/css/dashicons.css?20150710" rel="stylesheet" type="text/css" />
<link href="https://codex.wordpress.org/Function_Reference/esc_url//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,400,300,600&amp;subset=latin,cyrillic-ext,greek-ext,greek,vietnamese,latin-ext,cyrillic" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="https://codex.wordpress.org/Function_Reference/esc_url//s.w.org/style/wp4.css?38" />
<link media="only screen and (max-device-width: 480px)" href="https://codex.wordpress.org/Function_Reference/esc_url//s.w.org/style/iphone.css?1" type="text/css" rel="stylesheet" />
<link rel="shortcut icon" href="https://codex.wordpress.org/Function_Reference/esc_url//s.w.org/favicon.ico?2" type="image/x-icon" />
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-52447-1']);
_gaq.push(['_setDomainName', 'wordpress.org']);
_gaq.push(['_trackPageview']);
(function() {
	var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
function recordOutboundLink(link, category, action) {
	_gaq.push(['_trackEvent', category, action])
	setTimeout('document.location = "' + link.href + '"', 100);
}
</script>
<!--[if lte IE 8]&gt;
&lt;style type="text/css"&gt;
@import url("//s.w.org/style/ie.css?1");
&lt;/style&gt;
&lt;![endif]-->
<script type="text/javascript" src="https://codex.wordpress.org/Function_Reference/esc_url//s.w.org/wp-includes/js/jquery/jquery.js?v=1.11.1"></script>
<script>document.cookie='devicePixelRatio='+((window.devicePixelRatio === undefined) ? 1 : window.devicePixelRatio)+'; path=/';</script>
<!--[if IE]&gt;
    &lt;script type="text/javascript" src="/skins/common/IEFixes.js"&gt;&lt;/script&gt;
    &lt;meta http-equiv="imagetoolbar" content="no"  /&gt;
&lt;![endif]-->
<script type="text/javascript">wgBreakFrames=false;wgContentLanguage='en';</script>
<script type="text/javascript" src="https://codex.wordpress.org/Function_Reference/esc_url/skins/common/wikibits.js"></script>
<script type="text/javascript">
var toggleMenu = function(){
    var m = document.getElementById('wporg-header-menu'),
        c = m.className;
	    m.className = c.match( ' active' ) ? c.replace( ' active', '' ) : c + ' active';
}
</script>

<body id="wordpress-org">
<div id="wporg-header">
<div class="wrapper">
<a id="mobile-menu-button" class="" href="#" onclick="toggleMenu();"></a>
<h1><a href="//wordpress.org">WordPress.org</a></h1> <div id="head-search">
<form action="//wordpress.org/search/do-search.php" method="get">
<label for="global-search" class="screen-reader-text">Search WordPress.org for:</label>
<input id="global-search" class="text" name="search" type="text" value="" maxlength="150" placeholder="Search WordPress.org" /> <input type="submit" class="button" value="" />
</form>
</div>
<div style="clear:both"></div>
<ul id="wporg-header-menu">
<li><a href="//wordpress.org/showcase/" title="See some of the sites built on WordPress.">Showcase</a></li>
<li><a href="//wordpress.org/themes/" title="Find just the right look for your website.">Themes</a></li>
<li><a href="//wordpress.org/plugins/" title="Plugins can extend WordPress to do almost anything you can imagine.">Plugins</a></li>
<li><a href="//wordpress.org/mobile/" title="Take your website on the go!">Mobile</a></li>
<li><a href="//wordpress.org/support/" title="Forums, documentation, help." class="current">Support</a><ul class="nav-submenu"><li><a href="//wordpress.org/support/" title="Support and discussion forums.">Forums</a></li><li><a href="//codex.wordpress.org/Main_Page" title="Documentation, tutorials, best practices.">Documentation</a></li></ul><div class="uparrow"></div></li>
<li><a href="//make.wordpress.org/" title="Contribute your knowledge.">Get Involved</a></li>
<li><a href="//wordpress.org/about/" title="About the WordPress Organization, and where we're going.">About</a></li>
<li><a href="//wordpress.org/news/" title="Come here for the latest scoop.">Blog</a></li>
<li><a href="//wordpress.org/hosting/" title="Find a home for your blog.">Hosting</a></li>
<li id="download" class="button download-button"><a href="//wordpress.org/download/" title="Get it. Got it? Good.">Download WordPress</a></li>
</ul>
<div style="clear:both"></div>
</div>
</div>
<div id="headline">
<div class="wrapper">
<h2><a href="/">Codex</a></h2>
<div class="portlet" id="p-personal">
<p class="login">Codex tools:
		     <a href="/index.php?title=Special:UserLogin&amp;returnto=Function+Reference%2Fesc+url">Log in</a> </p>
</div>
</div>
</div>
<div id="pagebody">
<div class="wrapper">
<div class="col-10" id="bodyContent">
<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><div style="clear:both; background-color:#FCECAD; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto;"><a href="/File:Ambox_notice.png" class="image"><img alt="Attention" src="/images/c/c8/Ambox_notice.png" width="40" height="40" style="vertical-align: middle" /></a> Interested in functions, hooks, classes, or methods? Check out the new <a class="external text" href="http://developer.wordpress.org/reference">WordPress Code Reference</a>!</div>
</div></div> <h2 class="pagetitle">Function Reference/esc url</h2>
<!-- start content -->
<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="/Multilingual_Codex" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span>
<strong class="selflink">English</strong> • 
<a class="external text" href="http://wpdocs.osdn.jp/Function_Reference/esc_url">日本語</a> • 
 <small>(<a href="/Multilingual_Codex#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Usage"><span class="tocnumber">2</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Parameters"><span class="tocnumber">3</span> <span class="toctext">Parameters</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Return_Values"><span class="tocnumber">4</span> <span class="toctext">Return Values</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Examples"><span class="tocnumber">5</span> <span class="toctext">Examples</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Adding_a_link_to_home"><span class="tocnumber">5.1</span> <span class="toctext">Adding a link to home</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Notes"><span class="tocnumber">6</span> <span class="toctext">Notes</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Changelog"><span class="tocnumber">7</span> <span class="toctext">Changelog</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Source_File"><span class="tocnumber">8</span> <span class="toctext">Source File</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Related"><span class="tocnumber">9</span> <span class="toctext">Related</span></a></li>
</ul>
</div>
<h2><span class="mw-headline" id="Description">Description</span></h2>
<p>Always use esc_url when sanitizing URLs (in text nodes, attribute nodes or anywhere else). Rejects URLs that do not have one of the provided whitelisted protocols (defaulting to http, https, ftp, ftps, mailto, news, irc, gopher, nntp, feed, and telnet), eliminates invalid characters, and removes dangerous characters.
This function encodes characters as HTML entities: use it when generating an (X)HTML or XML document. Encodes ampersands (&amp;) and single quotes (') as numeric entity references (&amp;#038, &amp;#039).
</p><p>If the URL appears to be an absolute link that does not contain a scheme, prepends <code>http://</code>. Please note that relative urls (/my-url/parameter2/), as well as anchors (#myanchor) and parameter items (?myparam=yes) are also allowed and filtered as a special case, without prepending the default protocol to the filtered url.
</p><p>Replaces the deprecated clean_url().
</p>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<p><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php&#160;esc_url</span><span style="color: #007700">(&#160;</span><span style="color: #0000BB">$url</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$protocols</span><span style="color: #007700">,&#160;</span><span style="color: #0000BB">$_context&#160;</span><span style="color: #007700">);&#160;</span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
</p>
<h2><span class="mw-headline" id="Parameters">Parameters</span></h2>
<dl>
<dt> <tt>$url</tt>
</dt>
<dd> (<a href="/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>required</i>) The URL to be cleaned.
<dl>
<dd> Default: <i>None</i>
</dd>
</dl>
</dd>
</dl>
<dl>
<dt> <tt>$protocols</tt>
</dt>
<dd> (<a href="/How_to_Pass_Tag_Parameters#Array" title="How to Pass Tag Parameters"><i>array</i></a>) (<i>optional</i>) An array of acceptable protocols. Defaults to '<tt>http</tt>', '<tt>https</tt>', '<tt>ftp</tt>', '<tt>ftps</tt>', '<tt>mailto</tt>', '<tt>news</tt>', '<tt>irc</tt>', '<tt>gopher</tt>', '<tt>nntp</tt>', '<tt>feed</tt>', '<tt>telnet</tt>', '<tt>mms</tt>', '<tt>rtsp</tt>', '<tt>svn</tt>', '<tt>tel</tt>', '<tt>fax</tt>', '<tt>xmpp</tt>' if not set.
<dl>
<dd> Default: null
</dd>
</dl>
</dd>
</dl>
<dl>
<dt> <tt>$_context</tt>
</dt>
<dd> (<a href="/How_to_Pass_Tag_Parameters#String" title="How to Pass Tag Parameters"><i>string</i></a>) (<i>optional</i>) How the URL will be used. Default is '<tt>display</tt>'.
<dl>
<dd> Default: 'display'
</dd>
</dl>
</dd>
</dl>
<h2><span class="mw-headline" id="Return_Values">Return Values</span></h2>
<dl>
<dt> (string)&#160;</dt>
<dd> The cleaned <tt>$url</tt> after the '<tt>esc_url</tt>' filter is applied.  An empty string is returned if <tt>$url</tt> specifies a protocol other than those in <tt>$protocols</tt>, or if <tt>$url</tt> contains an empty string.
</dd>
</dl>
<h2><span class="mw-headline" id="Examples">Examples</span></h2>
<h3><span class="mw-headline" id="Adding_a_link_to_home">Adding a link to home</span></h3>
<p>As featured in the <b>Twenty Thirteen</b> theme, although simplified for the sake of the example
</p>
<pre>&lt;a href=&quot;&lt;?php echo esc_url( home_url( '/' ) );&#160;?&gt;&quot;&gt;Home&lt;/a&gt;</pre>
<h2><span class="mw-headline" id="Notes">Notes</span></h2>
<h2><span class="mw-headline" id="Changelog">Changelog</span></h2>
<ul>
<li> Since: 2.8
</li>
</ul>
<h2><span class="mw-headline" id="Source_File">Source File</span></h2>
<p><tt>esc_url()</tt> is located in <code><a class="external text" href="https://core.trac.wordpress.org/browser/tags/4.4.1/src/wp-includes/formatting.php#L0">wp-includes/formatting.php</a></code>.
</p>
<h2><span class="mw-headline" id="Related">Related</span></h2>
<p>See: <a href="/Data_Validation" title="Data Validation">Data Validation</a> article for an in-depth discussion of input and output sanitization.
</p>
<ul>
<li> <a href="/Function_Reference/esc_html" title="Function Reference/esc html">esc_html()</a>
<ul>
<li> <a href="/Function_Reference/esc_html_2" title="Function Reference/esc html 2">esc_html__()</a>
</li>
<li> <a href="/Function_Reference/esc_html_e" title="Function Reference/esc html e">esc_html_e()</a>
</li>
</ul>
</li>
<li> <a href="/Function_Reference/esc_attr" title="Function Reference/esc attr">esc_attr()</a>
<ul>
<li> <a href="/Function_Reference/esc_attr_2" title="Function Reference/esc attr 2">esc_attr__()</a>
</li>
<li> <a href="/Function_Reference/esc_attr_e" title="Function Reference/esc attr e">esc_attr_e()</a>
</li>
</ul>
</li>
<li> <a href="/Function_Reference/esc_js" title="Function Reference/esc js">esc_js()</a>
</li>
<li> <a href="/Function_Reference/esc_sql" title="Function Reference/esc sql">esc_sql()</a>
</li>
<li> <a href="/Function_Reference/esc_textarea" title="Function Reference/esc textarea">esc_textarea()</a>
</li>
<li> <strong class="selflink">esc_url()</strong>
<ul>
<li> <a href="/Function_Reference/esc_url_raw" title="Function Reference/esc url raw"> esc_url_raw()</a>
</li>
<li> <a href="/Function_Reference/urlencode" title="Function Reference/urlencode">urlencode()</a>
</li>
<li> <a href="/Function_Reference/urlencode_deep" title="Function Reference/urlencode deep">urlencode_deep()</a>
</li>
</ul>
</li>
</ul>
<div style="clear:both; background-color:#F7F7F7; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle;">See also index of <a href="/Function_Reference" title="Function Reference">Function Reference</a> and index of <a href="/Template_Tags" title="Template Tags">Template Tags</a>.</div>
<!-- 
NewPP limit report
CPU time usage: 0.040 seconds
Real time usage: 0.045 seconds
Preprocessor visited node count: 154/1000000
Preprocessor generated node count: 578/1000000
Post‐expand include size: 2610/2097152 bytes
Template argument size: 851/2097152 bytes
Highest expansion depth: 4/40
Expensive parser function count: 0/100
-->
</div><div class="printfooter">
Retrieved from "<a href="http://codex.wordpress.org/index.php?title=Function_Reference/esc_url&amp;oldid=150404">http://codex.wordpress.org/index.php?title=Function_Reference/esc_url&amp;oldid=150404</a>"</div>
<div id="catlinks"><div id="catlinks" class="catlinks"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="/Category:Functions" title="Category:Functions">Functions</a></li><li><a href="/Category:New_page_created" title="Category:New page created">New page created</a></li></ul></div></div></div> <!-- end content -->
</div>
<div class="col-2">
<ul class="submenu">
<li id="n-mainpage"><a href="/Main_Page">Home Page</a></li>
<li><a href="/WordPress_Lessons">WordPress Lessons</a></li>
<li><a href="/Getting_Started_with_WordPress">Getting Started</a></li>
<li><a href="/Working_with_WordPress">Working with WordPress</a></li>
<li><a href="/Blog_Design_and_Layout">Design and Layout</a></li>
<li><a href="/Advanced_Topics">Advanced Topics</a></li>
<li><a href="/Troubleshooting">Troubleshooting</a></li>
<li><a href="/Developer_Documentation">Developer Docs</a></li>
<li><a href="/About_WordPress">About WordPress</a></li>
</ul>
<h3>Codex Resources</h3>
<ul class="submenu">
<li id="n-portal"><a href="/Codex:Community_Portal">Community portal</a></li>
<li id="n-currentevents"><a href="/Current_events">Current events</a></li>
<li id="n-recentchanges"><a href="/Special:RecentChanges">Recent changes</a></li>
<li id="n-randompage"><a href="/Special:Random">Random page</a></li>
<li id="n-help"><a href="/Help:Contents">Help</a></li>
</ul>
</div>
</div>
</div>
<div id="wporg-footer">
<div class="wrapper">
<ul>
<li><a href="//wordpress.org/about/" title="An introduction to the WordPress project">About</a></li>
<li><a href="//wordpress.org/news/" title="News and Updates">Blog</a></li>
<li><a href="//wordpress.org/hosting/" title="Recommended web hosting providers">Hosting</a></li>
<li><a href="http://jobs.wordpress.net/" title="Find or post WordPress jobs">Jobs</a></li>
</ul>
<ul>
<li><a href="//wordpress.org/support/" title="Forums, documentation, and other resources">Support</a></li>
<li><a href="//developer.wordpress.org" title="Resources for WordPress developers">Developers</a></li>
<li><a href="//make.wordpress.org/" title="Give back to WordPress through code, support, translation and more">Get Involved</a></li>
<li><a href="//learn.wordpress.org/" title="Workshops and training materials">Learn</a></li>
</ul>
<ul>
<li><a href="//wordpress.org/showcase/" title="Some of the best WordPress sites on the Web">Showcase</a></li>
<li><a href="//wordpress.org/plugins/" title="Add extra functionality to WordPress">Plugins</a></li>
<li><a href="//wordpress.org/themes/" title="Make your WordPress pretty">Themes</a></li>
<li><a href="//wordpress.org/ideas/" title="Share your ideas for improving WordPress">Ideas</a></li>
</ul>
<ul>
<li><a href="//central.wordcamp.org/" title="Find a WordPress event near you">WordCamp</a></li>
<li><a href="//wordpress.tv/" title="Videos, tutorials, and WordCamp sessions">WordPress.TV</a></li>
<li><a href="//buddypress.org/" title="A set of plugins to transform your WordPress into a social network">BuddyPress</a></li>
<li><a href="//bbpress.org/" title="Fast, slick forums built on WordPress">bbPress</a></li>
</ul>
<ul>
<li><a href="//wordpress.com/?ref=wporg-footer" title="Hassle-free WordPress hosting">WordPress.com</a></li>
<li><a href="//ma.tt/" title="Co-founder of WordPress, an example of what WordPress can do">Matt</a></li>
<li><a href="//wordpress.org/about/privacy/" title="WordPress.org Privacy Policy">Privacy</a></li>
<li><a href="//wordpress.org/about/license/" title="WordPress is open source software">License / GPLv2</a></li>
</ul>
<ul>
<li>
<iframe allowtransparency="true" frameborder="0" scrolling="no" src="//platform.twitter.com/widgets/follow_button.html?screen_name=WordPress&amp;show_count=false" style="width:135px; height:20px;"></iframe>
</li>
<li>
<iframe src="//www.facebook.com/plugins/like.php?app_id=121415197926116&amp;href=http%3A%2F%2Fwww.facebook.com%2Fwordpress&amp;send=false&amp;layout=button_count&amp;width=135&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font=lucida+grande&amp;height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:135px; height:21px;" allowtransparency="true"></iframe>
</li>
<li>
<script src="https://apis.google.com/js/platform.js" async="async" defer="defer"></script>
<div class="g-plusone" data-size="medium" data-href="https://plus.google.com/+WordPress"></div>
</li>
</ul>
</div>
<h6 class="aligncenter cip-image">Code is Poetry.</h6>
</div>
<script type="text/javascript">
  var _qevents = _qevents || [];
  (function() {
   var elem = document.createElement('script');
   elem.src = (document.location.protocol == "https:" ? "https://secure" : "http://edge")
               + ".quantserve.com/quant.js";
   elem.async = true;
   elem.type = "text/javascript";
   var scpt = document.getElementsByTagName('script')[0];
   scpt.parentNode.insertBefore(elem, scpt);
  })();
</script>
<script type="text/javascript">_qevents.push( { qacct:"p-18-mFEk4J448M"} );</script>
<noscript><img src="//pixel.quantserve.com/pixel/p-18-mFEk4J448M.gif" style="display: none;" border="0" height="1" width="1" alt="" /></noscript>
<!-- -->
<script type="text/javascript" src="https://codex.wordpress.org/Function_Reference/esc_url//gravatar.com/js/gprofiles.js"></script>
<script type="text/javascript">
(function($){
$(document).ready(function() {
	$('#footer a').click(function() {
		if (this.href.indexOf('wordpress.org') == -1 &amp;&amp; this.href.indexOf('http') == 0) {
			recordOutboundLink(this, 'Outbound Links', this.href);
			return false;
		}
	});
});
})(jQuery);
</script>
</body>
<!-- Cached 20160106202848 -->
</html>
